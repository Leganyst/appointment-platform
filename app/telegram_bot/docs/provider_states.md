# Provider FSM (State → Event → Next State)

## States
- P0 — Welcome: приветствие, авто-ID, кнопки «выбор роли» / «главное меню».
- P1 — RoleSetup: выбор роли «представитель», ввод названия/описания услуги, контактов, подтверждение.
- P2 — ProviderMainMenu: меню с «Управление расписанием», «Мои записи», «Профиль/Справка», (при необходимости поиск/другое).
- P3 — ScheduleDashboard: список слотов (доступные/занятые) + краткая инфо о записях, кнопка «Добавить слот», «Назад в меню».
- P4 — SlotCreate: ввод даты/времени/длительности (опц. повторение), подтверждение создания.
- P5 — SlotEdit: изменение параметров слота (разрешено только если не занят).
- P6 — SlotDelete: удаление слота (если не нарушает целостность бронирований).
- P7 — BookingList: просмотр записей клиентов на слоты представителя.
- P8 — BookingConfirm: подтверждение записи (админ-интерфейс).
- P9 — BookingCancel: отмена записи (сервисное сообщение об успехе/ошибке).
- P10 — ProfileHelp: профиль/справка, возврат в меню.

## Transitions (key events)
- /start → P0
- P0 «Выбор роли» → P1; P0 «Главное меню» → P2
- P1 «Подтвердить» → P2
- P2 «Управление расписанием» → P3
- P2 «Мои записи» → P7
- P2 «Профиль/Справка» → P10
- P3 «Добавить слот» → P4
- P3 «Редактировать слот» → P5 (если слот свободен)
- P3 «Удалить слот» → P6 (если допустимо)
- P3 «Назад в меню» → P2
- P4 «Сохранить» → P3 (с сервисным результатом)
- P5 «Сохранить» → P3 (только если слот не занят)
- P6 «Подтвердить удаление» → P3
- P7 «Подтвердить запись» → P8 → P3/P7 (после результата)
- P7 «Отменить запись» → P9 → P3/P7 (после результата)
- P7 «Назад в меню» → P2
- P8/P9 после результата → P3 или P2 (по кнопкам)
- P10 «В меню» → P2

Notes: все операции сопровождаются сервисными сообщениями (успех/ошибка + дальнейшее действие); списки слотов/записей структурированы; действия через инлайн-кнопки.
